{"ast":null,"code":"import _classCallCheck from\"/Users/ashleycheung/Documents/WebDev/X-game/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ashleycheung/Documents/WebDev/X-game/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/ashleycheung/Documents/WebDev/X-game/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/ashleycheung/Documents/WebDev/X-game/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/ashleycheung/Documents/WebDev/X-game/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/ashleycheung/Documents/WebDev/X-game/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Squares from'./Components/Squares';import Steps from'./Components/Steps';import CalcWinner from'./Components/CalcWinner';import'./App.css';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.state={history:[{squares:[null,null,null,null,null,null,null,null,null]}],isNextX:true,lastMove:[]};_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.handleStart=_this.handleStart.bind(_assertThisInitialized(_this));_this.handleJump=_this.handleJump.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"handleClick\",value:function handleClick(i){var index=i;var history=this.state.history;var current=history[history.length-1];var squares=current.squares.slice();if(CalcWinner(squares)){return null;};if(squares[index]){return null;};squares[index]=this.state.isNextX?'X':'O';var lastMove=this.state.lastMove.slice();this.setState({history:history.concat([{squares:squares}]),isNextX:!this.state.isNextX,lastMove:lastMove.concat(index)});}},{key:\"handleJump\",value:function handleJump(i){var index=i;var history=this.state.history.splice(0,index+1);var lastMove=this.state.lastMove.splice(0,index);this.setState({history:history,isNextX:index%2===0?true:false,lastMove:lastMove});}},{key:\"handleStart\",value:function handleStart(){this.setState({history:[{squares:[null,null,null,null,null,null,null,null,null]}],isNextX:true});}},{key:\"render\",value:function render(){var _this$state=this.state,history=_this$state.history,isNextX=_this$state.isNextX,lastMove=_this$state.lastMove;var current=history[history.length-1].squares;var win=CalcWinner(current);var draw=current.indexOf(null);var status;if(win){status=React.createElement(\"h5\",null,\"The winner is \",win);}else if(draw===-1){status=React.createElement(\"h5\",null,\"It is a draw. Try again!\");}else{status=React.createElement(\"h5\",null,\"The next move is \",isNextX?'X':'O');}return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Play tic-tac-toe\"),React.createElement(\"div\",{className:\"container\"},status,React.createElement(Squares,{mark:current,onClick:this.handleClick,lastMove:lastMove}),React.createElement(\"button\",{className:\"start\",onClick:this.handleStart},\"Start Again\"),React.createElement(Steps,{history:history,onJump:this.handleJump})));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/ashleycheung/Documents/WebDev/X-game/src/App.js"],"names":["React","Component","Squares","Steps","CalcWinner","App","props","state","history","squares","isNextX","lastMove","handleClick","bind","handleStart","handleJump","i","index","current","length","slice","setState","concat","splice","win","draw","indexOf","status"],"mappings":"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","sourcesContent":["import React, { Component }   from 'react';\nimport Squares from './Components/Squares';\nimport Steps from './Components/Steps';\nimport CalcWinner from './Components/CalcWinner';\nimport './App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        history: [  \n        {         \n          squares: [\n            null, null, null,\n            null, null, null,\n            null, null, null\n          ]\n        }\n      ],\n      isNextX: true,\n      lastMove: []\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.handleStart = this.handleStart.bind(this);\n    this.handleJump = this.handleJump.bind(this);\n  }\n\n  handleClick(i) {\n    const index = i;\n    const history = this.state.history\n    const current = history[history.length-1]; \n    const squares = current.squares.slice(); \n    if(CalcWinner(squares)) { return null };\n    if(squares[index]) { return null };\n    squares[index] = this.state.isNextX ? 'X': 'O';\n    const lastMove = this.state.lastMove.slice(); \n    this.setState({\n      history: history.concat([{ squares: squares }]),\n      isNextX: !this.state.isNextX,\n      lastMove: lastMove.concat(index)\n    });    \n  }\n\n  handleJump(i) {\n    const index = i;\n    const history = this.state.history.splice(0, index+1);\n    const lastMove = this.state.lastMove.splice(0, index);\n    this.setState({\n      history: history,\n      isNextX: index % 2 === 0 ? true: false,\n      lastMove: lastMove\n    })\n  }\n\n  handleStart() {\n    this.setState({\n      history: [\n        {\n          squares: [\n            null, null, null,\n            null, null, null,\n            null, null, null\n          ]\n        }\n      ],\n      isNextX: true\n    })\n  }\n\n  render() {\n    \n    const { history, isNextX, lastMove } = this.state;\n    const current = history[history.length-1].squares;\n    const win = CalcWinner(current);\n    const draw = current.indexOf(null);\n    let status;\n    if(win) {\n      status = <h5>The winner is {win}</h5>\n    } else if(draw === -1) {\n      status = <h5>It is a draw. Try again!</h5>\n    } else {\n      status = <h5>The next move is {isNextX ? 'X': 'O'}</h5>\n    }\n    \n    return (\n       <div>\n         <h1>Play tic-tac-toe</h1>\n         <div className='container'>\n              {status}\n              <Squares\n                mark={current} \n                onClick={this.handleClick}\n                lastMove={lastMove} \n              />\n              <button className='start' onClick={this.handleStart} >Start Again</button>\n              <Steps \n                history={history}\n                onJump={this.handleJump} \n              />\n          </div>\n      </div>  \n    );  \n  }\n  \n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}